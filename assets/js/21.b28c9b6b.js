(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{221:function(t,s,a){"use strict";a.r(s);var e=a(28),r=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"egret微信小游戏项目图片管理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#egret微信小游戏项目图片管理"}},[t._v("#")]),t._v(" egret微信小游戏项目图片管理")]),t._v(" "),a("h4",{attrs:{id:"工具-egret-launcher中下载-egret-texture-merger"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#工具-egret-launcher中下载-egret-texture-merger"}},[t._v("#")]),t._v(" 工具---Egret Launcher中下载 egret Texture Merger")]),t._v(" "),a("ul",[a("li",[t._v("图一")]),t._v(" "),a("li",[a("img",{attrs:{src:"https://upload-images.jianshu.io/upload_images/5864202-803ec36364e56a5a.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240",alt:"egret图片管理"}})])]),t._v(" "),a("h4",{attrs:{id:"工具达到的效果"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#工具达到的效果"}},[t._v("#")]),t._v(" 工具达到的效果---")]),t._v(" "),a("ul",[a("li",[t._v("每次看到assets文件夹下面那么多图片就头疼，通过这个管理工具对所有需要用到的图片进行归类，方便将来对图片进行二次操作")]),t._v(" "),a("li",[t._v("更少的图片个数也意味着更少的图片网络请求，这样整体游戏的加载时间就得到了压缩，游戏体验必然更好")])]),t._v(" "),a("h4",{attrs:{id:"工具达到目的的实现方式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#工具达到目的的实现方式"}},[t._v("#")]),t._v(" 工具达到目的的实现方式---")]),t._v(" "),a("ul",[a("li",[t._v("通过将很多小的图片进行合成为一个.json文件和一个.png文件，json文件中对应着每张小图片在合成的大图片中的坐标，进而\b在egret中对图片进行更方便的管理，如下图第一张为合成后的json文件截图，第二张为合成后的大图：")]),t._v(" "),a("li",[t._v("\b图二")]),t._v(" "),a("li",[a("img",{attrs:{src:"https://upload-images.jianshu.io/upload_images/5864202-e7c203b6089b2ac6.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240",alt:"jsonwenjian "}})]),t._v(" "),a("li",[t._v("图三")]),t._v(" "),a("li",[a("img",{attrs:{src:"https://upload-images.jianshu.io/upload_images/5864202-afb053f7a6f06ee0.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240",alt:"jsonwenjian "}})])]),t._v(" "),a("h4",{attrs:{id:"工具的使用方法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#工具的使用方法"}},[t._v("#")]),t._v(" 工具的使用方法")]),t._v(" "),a("ul",[a("li",[a("ol",[a("li",[t._v("首先在Egret Launcher中下载 egret Texture Merger")])])]),t._v(" "),a("li",[a("ol",{attrs:{start:"2"}},[a("li",[t._v("打开工具之后选择"),a("strong",[t._v("Sprite Sheet")]),t._v("选项，开始进行图片的合成操作")])])]),t._v(" "),a("li",[a("ol",{attrs:{start:"3"}},[a("li",[t._v("将需要合成的小图片首先放到\b一个独立于项目的文件夹，方便将来对文件夹图片进行增减，因为assets文件中用于合成的小图片马上会删除")])])]),t._v(" "),a("li",[a("ol",{attrs:{start:"4"}},[a("li",[t._v("点击"),a("strong",[t._v("新建项目")]),t._v("选项，输入适合自己归类的文件名，此处以"),a("strong",[t._v("common\b")]),t._v("为例。")])])]),t._v(" "),a("li",[a("ol",{attrs:{start:"5"}},[a("li",[t._v("将你需要合成的图片拖动到编辑器中，此时软件能够完成的功能就结束了，下面的重点是")])])]),t._v(" "),a("li",[a("ol",{attrs:{start:"6"}},[a("li",[a("strong",[t._v("点击保存项目")]),t._v("此时会生成一个"),a("strong",[t._v("common.tmproject")]),t._v("文件，这个"),a("strong",[t._v("文件作用")])])]),t._v(" "),a("ul",[a("li",[a("ol",[a("li",[t._v("将来我们在对合成的common.json和common.png进行增减图片时，该文件能够被今天使用的texture merger文件打开，并链接到本地文件位置，进行进一步的操作")])])]),t._v(" "),a("li",[a("ol",{attrs:{start:"2"}},[a("li",[t._v("这也是为何在步骤3.中使用一个独立的文件夹保存需要合成的图片的原因")])])])])]),t._v(" "),a("li",[a("ol",{attrs:{start:"7"}},[a("li",[t._v("点击导出文件，将文件导入到egret项目的assets文件夹下")])])]),t._v(" "),a("li",[a("ol",{attrs:{start:"8"}},[a("li",[t._v("在vscode编辑器中修改default.res.json文件，新增下面两项：")])])])]),t._v(" "),a("blockquote",[a("p",[t._v("group数组下新增")])]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[t._v("\t\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"keys"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"common"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"name"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"common"')]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("blockquote",[a("p",[t._v("resources数组下新增")])]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[t._v("\t\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"url"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"assets/common.json"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"type"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"sheet"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"name"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"common"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"subkeys"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"common_bg_png,firstLight_png,long_bg_png,raffle_bg_png,secondLight_png"')]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])])]),a("blockquote",[a("p",[t._v("其中group中的两个values值必须和resources中url和name的values值保持一致，\b此值是步骤7.中到处文件我们命名的文件名，subkeys可以为空，马上在egret编辑器中点击common文件右键刷新subkeys会自动更新")])]),t._v(" "),a("ul",[a("li",[a("ol",{attrs:{start:"9"}},[a("li",[t._v("加载资源组，在main.ts中loadResource函数下加载common.json文件")])])])]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[t._v("  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("RES")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("loadGroup")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"common"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" loadingView"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("ul",[a("li",[a("ol",{attrs:{start:"10"}},[a("li",[t._v("重启项目刷新，整个项目中的文件会自动追踪到自己的文件位置，不用二次编辑文件地址")])])])]),t._v(" "),a("blockquote",[a("p",[t._v("\b以上就是整个使用步骤，如果有\b不妥或者疑问欢迎留言交流。")])]),t._v(" "),a("blockquote",[a("p",[t._v("ps：文中markdown图片地址使用的免费ipic软件生成，第一次用这个软件还不错")])])])}),[],!1,null,null,null);s.default=r.exports}}]);